<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AncesTree AgrInvest - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="img/logo.PNG" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .tab-button.active {
            border-bottom: 3px solid #10b981;
            color: #10b981;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 250px;
        }

        .investment-grid {
            display: block !important;
            flex-direction: column;
        }

        .investment-card {
            transition: all 0.3s;
        }

        .investment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .dark-mode {
            background-color: #1a202c;
            color: #f7fafc;
        }

        .dark-mode .bg-white {
            background-color: #2d3748 !important;
            color: #f7fafc !important;
        }

        .dark-mode .text-gray-800 {
            color: #f7fafc !important;
        }

        .dark-mode .border-gray-200 {
            border-color: #4a5568 !important;
        }

        .dark-mode .text-gray-700 {
            color: #e2e8f0 !important;
        }

        .dark-mode .bg-gray-100 {
            background-color: #1a202c !important;
        }



        @media (max-width: 768px) {
            .investment-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
            }

            .transaction-history {
                overflow-x: auto;
            }
        }
    </style>
</head>

<body class="bg-gray-100">
    <!-- Top Navigation -->
    <nav class="bg-green-800 text-white shadow-lg fixed top-0 left-0 right-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-2">
                    <div class="bg-white p-0.5 rounded-full h-12 w-12 flex items-center justify-center">
                        <img src="img/logo.PNG" alt="Logo" class="h-10 w-10 object-contain rounded-full">
                    </div>
                    <span class="text-white text-xl font-bold">AncesTree AgrInvest</span>
                </div>

                <!-- Desktop Navigation Links -->
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition"
                        onclick="showTab('dashboard')">
                        <i class="fas fa-tachometer-alt mr-1"></i> Dashboard
                    </a>
                    <a href="#investment" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition"
                        onclick="showTab('investments')">
                        <i class="fas fa-seedling mr-1"></i> Investments
                    </a>
                    <a href="#transaction"
                        class="px-3 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition"
                        onclick="showTab('transactions')">
                        <i class="fas fa-exchange-alt mr-1"></i> Transactions
                    </a>
                    <a href="#calculator" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition"
                        onclick="showTab('calculator')">
                        <i class="fas fa-calculator mr-1"></i> ROI Calculator
                    </a>
                    <a href="#contact" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition"
                        onclick="showTab('support')">
                        <i class="fas fa-headset mr-1"></i> Support
                    </a>
                </div>

                <!-- Right Section: Notification + Profile + Hamburger -->
                <div class="flex items-center space-x-4">
                    <!-- Theme Toggle -->


                    <!-- Profile -->
                    <div class="relative">
  <button id="profileButton"
    class="flex items-center space-x-2 focus:outline-none hover:text-green-200"
    onclick="toggleDropdown()">
    <img id="userAvatar" src="https://via.placeholder.com/32" alt="User Avatar" class="w-8 h-8 rounded-full">
    <span class="text-sm font-medium hidden sm:inline" id="userDropdownName">Loading...</span>
    <i class="fas fa-chevron-down text-xs"></i>
  </button>

  <!-- Dropdown -->
  <div id="profileDropdown"
    class="hidden absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl py-2 z-50 text-gray-800">
    <a href="#" onclick="openProfile()" class="block px-4 py-3 text-sm font-medium hover:bg-green-50 transition">
  üë§ Profile
</a>

    <a href="#" onclick="openNotifications()" class="block px-4 py-3 text-sm font-medium hover:bg-green-50 transition">
  ‚öôÔ∏è Settings
</a>
    <a href="#" class="block px-4 py-3 text-sm font-medium hover:bg-green-50 transition"
      onclick="logout()">üö™ Logout</a>
  </div>
</div>


<!-- Profile Modal -->
<div id="profileModal" class="fixed inset-0 bg-black bg-opacity-40 hidden z-50 items-center justify-center">
  <div class="bg-white w-full max-w-lg rounded-lg shadow-lg overflow-hidden">
    <div class="flex justify-between items-center px-6 py-4 bg-green-700 text-white">
      <h2 class="text-lg font-semibold">üë§ My Profile</h2>
      <button onclick="closeProfile()" class="text-white text-xl">&times;</button>
    </div>

    <div class="p-6 space-y-4 max-h-[60vh] overflow-y-auto">
      <div class="flex items-center space-x-4">
        <img id="profileModalImage" src="https://via.placeholder.com/80" class="w-20 h-20 rounded-full" alt="Profile" />
        <input type="file" id="profileImageUpload" accept="image/*"
          class="text-sm text-gray-500 file:mr-4 file:py-1 file:px-4 file:border file:border-gray-300 file:rounded-full file:bg-white file:text-sm file:font-semibold hover:file:bg-gray-100" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Username</label>
        <div id="modalUsername" class="text-green-800 font-semibold text-sm">Loading...</div>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Full Name</label>
        <div id="modalFullName" class="text-green-800 font-semibold text-sm">Loading...</div>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Email</label>
        <div id="modalEmail" class="text-green-800 font-semibold text-sm">Loading...</div>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Phone</label>
        <div id="modalPhone" class="text-green-800 font-semibold text-sm">Loading...</div>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Home Address</label>
        <div id="modalAddress" class="text-green-800 font-semibold text-sm">Loading...</div>
      </div>
    </div>

    <div class="px-6 py-4 text-right bg-gray-50">
      <button onclick="closeProfile()" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
        Close
      </button>
    </div>
  </div>
</div>



<!-- Notifications Modal -->
<div id="notificationsModal" class="fixed inset-0 bg-black bg-opacity-40 z-50 hidden items-center justify-center">
  <div class="bg-white w-full max-w-lg rounded-lg shadow-lg overflow-hidden">
    <div class="flex justify-between items-center px-6 py-4 bg-green-700 text-white">
      <h2 class="text-lg font-semibold">üì¢ Notifications</h2>
      <button onclick="closeNotifications()" class="text-white text-xl">&times;</button>
    </div>
    <div class="p-4 max-h-[60vh] overflow-y-auto">
      <ul id="notificationList" class="space-y-3 text-gray-700">
        <li class="text-sm text-gray-500">Loading notifications...</li>
      </ul>
    </div>
    <div class="px-6 py-4 text-right bg-gray-50">
      <button onclick="closeNotifications()" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
        Close
      </button>
    </div>
  </div>
</div>






                        <!-- Mobile Dropdown Navigation -->
                        <div id="mobileDropdown"
                            class="hidden absolute right-2 top-full mt-2 w-64 bg-white rounded-xl shadow-xl py-2 z-50 text-gray-800 md:hidden">
                            <a href="#"
                                class="flex items-center px-4 py-3 text-sm font-medium hover:bg-green-50 transition"
                                onclick="showTab('dashboard')">
                                <i class="fas fa-tachometer-alt mr-3 text-green-600"></i> Dashboard
                            </a>
                            <a href="#investment"
                                class="flex items-center px-4 py-3 text-sm font-medium hover:bg-green-50 transition"
                                onclick="showTab('investments')">
                                <i class="fas fa-seedling mr-3 text-green-600"></i> Investments
                            </a>
                            <a href="#transaction"
                                class="flex items-center px-4 py-3 text-sm font-medium hover:bg-green-50 transition"
                                onclick="showTab('transactions')">
                                <i class="fas fa-exchange-alt mr-3 text-green-600"></i> Transactions
                            </a>
                            <a href="#calculator"
                                class="flex items-center px-4 py-3 text-sm font-medium hover:bg-green-50 transition"
                                onclick="showTab('calculator')">
                                <i class="fas fa-calculator mr-3 text-green-600"></i> ROI Calculator
                            </a>
                            <a href="#contact"
                                class="flex items-center px-4 py-3 text-sm font-medium hover:bg-green-50 transition"
                                onclick="showTab('support')">
                                <i class="fas fa-headset mr-3 text-green-600"></i> Support
                            </a>
                        </div>



                    </div>
                    <!-- Hamburger and Profile (side by side on mobile) -->
                    <div class="flex items-center space-x-2">
                        <!-- Hamburger -->
                        <div class="md:hidden">
                            <button id="mobileMenuButton" class="text-white focus:outline-none">
                                <i class="fas fa-bars text-xl"></i>
                            </button>
                        </div>
                    </div>
                </div>

    </nav>

    <!-- Main Content -->
    <div class="pt-16 min-h-screen">
        <!-- Dashboard Content -->
        <div id="dashboard" class="tab-content active p-6">
            <!-- Welcome Banner -->
            <div class="bg-gradient-to-r from-green-700 to-green-600 text-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                    <div>
                        <h1 class="text-2xl font-bold mb-2">
                            Welcome back, <span id="welcomeName">Loading...</span>!
                        </h1>
                        <p class="opacity-90">
                            Track your investments and grow your agricultural portfolio
                        </p>
                    </div>

                    <div class="flex gap-2 mt-2">
                        <button onclick="showDepositModal()"
                            class="text-lg bg-blue-800 hover:bg-blue-900 text-white px-4 py-2.5 rounded transition">
                            Deposit Funds
                        </button>
                        <button onclick="showWithdrawModal()"
                            class="text-lg bg-green-700 hover:bg-green-800 text-white px-4 py-2.5 rounded transition">
                            Withdraw Funds
                        </button>
                    </div>
                </div>
            </div>


            <!-- Investment Summary -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 dashboard-stats">
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
                    <div class="flex items-center">
                        <div class="p-3 rounded-full bg-green-100 text-green-700 mr-4">
                            <i class="fas fa-wallet text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Total Invested</p>
                            <h3 class="text-2xl font-bold" id="totalInvested">‚Çµ0.00</h3>
                            <p class="text-sm text-green-600 mt-1"><i class="fas fa-arrow-up mr-1"></i> 0% from last
                                month</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
                    <div class="flex items-center">
                        <div class="p-3 rounded-full bg-blue-100 text-blue-700 mr-4">
                            <i class="fas fa-chart-line text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Total Earnings</p>
                            <h3 class="text-2xl font-bold" id="totalEarnings">‚Çµ0.00</h3>
                            <p class="text-sm text-green-600 mt-1"><i class="fas fa-arrow-up mr-1"></i> 0% from last
                                month</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
                    <div class="flex items-center">
                        <div class="p-3 rounded-full bg-purple-100 text-purple-700 mr-4">
                            <i class="fas fa-money-bill-wave text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Available Balance</p>
                            <h3 class="text-2xl font-bold" id="availableBalance">‚Çµ0.00</h3>

                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-lg font-semibold mb-4">Investment Growth</h2>
                    <div class="chart-container">
                        <canvas id="growthChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-lg font-semibold mb-4">Portfolio Distribution</h2>
                    <div class="chart-container">
                        <canvas id="portfolioChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white p-6 rounded-lg shadow mb-6">
                <h2 class="text-lg font-semibold mb-4">Quick Actions</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="document.getElementById('investment').scrollIntoView({ behavior: 'smooth' });"
                        class="flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition">
                        <div class="bg-green-600 text-white p-0.5 rounded-full mb-2">
                            <i class="fas fa-plus"></i>
                        </div>
                        <span class="text-sm font-medium">New Investment</span>
                    </button>
                    <button onclick="showWithdrawModal()"
                        class="flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition">
                        <div class="bg-blue-600 text-white p-0.5 rounded-full mb-2">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <span class="text-sm font-medium">Withdraw Funds</span>
                    </button>
                    <button onclick="document.getElementById('calculator').scrollIntoView({ behavior: 'smooth' });"
                        class="flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition">
                        <div class="bg-purple-600 text-white p-0.5 rounded-full mb-2">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <span class="text-sm font-medium">ROI Calculator</span>
                    </button>
                    <button onclick="showDepositModal()"
                        class="flex flex-col items-center justify-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition">
                        <div class="bg-yellow-600 text-white p-0.5 rounded-full mb-2">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <span class="text-sm font-medium">Deposit Funds</span>
                    </button>

                </div>
            </div>

            <!-- Investment Packages -->
            <div class="bg-white p-6 rounded-lg shadow mb-6" id="investment">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <h2 class="text-lg font-semibold">Investment Packages</h2>
                    <div class="flex space-x-2 mt-2 md:mt-0">
                        <button class="tab-button active px-3 py-1" onclick="filterPackages('all')">
                            All
                        </button>
                        <button class="tab-button px-3 py-1" onclick="filterPackages('crops')">
                            Crops
                        </button>
                        <button class="tab-button px-3 py-1" onclick="filterPackages('livestock')">
                            Livestock
                        </button>
                        <button class="tab-button px-3 py-1" onclick="filterPackages('aquaculture')">
                            Aquaculture
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-2 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 p-4">


                    <!-- Maize -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/maize.jpg" alt="Maize Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Maize (Corn)</h3>
                            <div class="text-xs opacity-80">Staple Crop</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">20% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Insurance coverage
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Maize (Corn)', 20, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Cassava -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/cassava.jpeg" alt="Cassava Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Cassava</h3>
                            <div class="text-xs opacity-80">Staple Crop</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">22% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">6 ‚Äì 9 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Insurance coverage
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Cassava', 22, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Plantain -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/plantain.jpg" alt="Plantain Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Plantain</h3>
                            <div class="text-xs opacity-80">Staple Crop</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">25% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                8 ‚Äì 12 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Insurance coverage
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Plantain', 25, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Tomato -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/tomato.jpeg" alt="Tomato Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Tomato</h3>
                            <div class="text-xs opacity-80">Vegetables</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">18% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Greenhouse technology
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Tomato', 18, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Goat -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/goat.webp" alt="Goat Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Goats</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">22% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">6 ‚Äì 8 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Goats', 22, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Chicken -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/chicken.webp" alt="Chicken Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Broiler Chickens</h3>
                            <div class="text-xs opacity-80">Poultry</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">16% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Biosecurity Measures
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Broiler Chickens', 16, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Pig -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/pig.jpg" alt="Pig Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Pigs</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">23% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                8 ‚Äì 10 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Pigs', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- catFish -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="aquaculture">
                        <img src="img/catfish.jpg" alt="CatFish Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Cat Fish</h3>
                            <div class="text-xs opacity-80">Aquaculture</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">21% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                6 ‚Äì 8 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Professional management
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Cat Fish', 21, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!--pepper-->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/pepper.jpg" alt="Pepper Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Pepper (chili) </h3>
                            <div class="text-xs opacity-80">vegetable</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">16% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Greenhouse technology
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('pepper', 16, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Rabbit -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/rabbit.jpeg" alt="Rabbit Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Rabbit</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">20% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                4 ‚Äì 6 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Rabbit', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Salmon -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="aquaculture">
                        <img src="img/salmon.webp" alt="Salmon Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Salmon Fish</h3>
                            <div class="text-xs opacity-80">Aquaculture</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">21% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                6 ‚Äì 8 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Professional management
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Salmon Fish', 21, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!--Okra-->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/okra.jpg" alt="Pepper Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Okra </h3>
                            <div class="text-xs opacity-80">vegetable</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">16% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Greenhouse technology
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Okra', 16, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Cattle -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/cattle.jpeg" alt="Cattle Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Cattle</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">25% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                12 ‚Äì 18 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Cattle', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Tilapia -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="aquaculture">
                        <img src="img/tilapia.avif" alt="Tilapia Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Tilapia Fish</h3>
                            <div class="text-xs opacity-80">Aquaculture</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">22% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                6 ‚Äì 8 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Pond-based
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Tilapia Fish', 21, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!--Onions-->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/onion.jpeg" alt="Onion Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Onion</h3>
                            <div class="text-xs opacity-80">vegetable</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">16% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Greenhouse technology
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Onion', 16, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Grasscutter -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/grasscutter.jpeg" alt="Grasscutter Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Grasscutter</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">20% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                5 ‚Äì 6 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('grasscutter', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Snail -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="aquaculture">
                        <img src="img/snail.jpg" alt="Snail Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Snail Fish</h3>
                            <div class="text-xs opacity-80">Aquaculture</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">24% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                8 ‚Äì 12 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    disease management
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('snail', 21, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!--cabbage-->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/cabbage.jpg" alt="cabbage Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Cabbage</h3>
                            <div class="text-xs opacity-80">vegetable</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">16% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Greenhouse technology
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Cabbage', 16, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Ducks -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/duck.jpg" alt="duck Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Ducks</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">18% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                4 ‚Äì 5 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Proper Hygyene
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Duck', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Crab -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="aquaculture">
                        <img src="img/crab.jpg" alt="Crab Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Crab</h3>
                            <div class="text-xs opacity-80">Aquaculture</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">23% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                6 ‚Äì 9 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Tank-based
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Crab', 21, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!--sweet potatoes-->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/potato.jpeg" alt="potato Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Sweet Potatoes </h3>
                            <div class="text-xs opacity-80">vegetable</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">16% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">3 ‚Äì 4 months cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Greenhouse technology
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Weekly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('potato', 16, 3)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Turkeys -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/guinea.webp" alt="Guinea Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Guinea Fowl</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">20% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                4 ‚Äì 5 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('guinea', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Prawn -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="aquaculture">
                        <img src="img/prawn.jpeg" alt="Fish Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Fresh Water Prawn</h3>
                            <div class="text-xs opacity-80">Aquaculture</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">24% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                8 ‚Äì 10 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Tank-based
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('prawn', 21, 6)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!--coconut-->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card" data-category="crops">
                        <img src="img/coconut.jpg" alt="Coconut Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Coconut</h3>
                            <div class="text-xs opacity-80">Fruit</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">25% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">1 ‚Äì 3 years cycle</div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Insurance Coverage
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Coconut', 25, 36)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>

                    <!-- Turkeys -->
                    <div class="bg-white rounded-lg shadow-md overflow-hidden investment-card"
                        data-category="livestock">
                        <img src="img/turkey.jpeg" alt="Turkey Farming" class="w-full h-32 object-cover">

                        <div class="bg-green-600 text-white p-0.5 text-center">
                            <h3 class="text-md font-bold">Turkeys</h3>
                            <div class="text-xs opacity-80">Livestock</div>
                        </div>
                        <div class="p-3">
                            <div class="text-xl font-bold text-green-800 mb-1">20% ROI</div>
                            <div class="text-gray-600 text-sm mb-2">
                                4 ‚Äì 5 months cycle
                            </div>
                            <ul class="space-y-1 mb-3 text-xs">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Minimum: ‚Çµ50
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Veterinary Care
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-600 mt-1 mr-1"></i>
                                    Monthly updates
                                </li>
                            </ul>
                            <button onclick="openInvestmentForm('Turkeys', 23, 8)"
                                class="w-full py-2 bg-green-800 hover:bg-green-900 text-white rounded-md text-sm font-medium transition">
                                Invest Now
                            </button>
                        </div>
                    </div>
                </div>


            </div>

            <!-- Recent Transactions -->
            <div class="bg-white p-6 rounded-lg shadow" id="transaction">
                <h2 class="text-lg font-semibold mb-4">Recent Transactions</h2>
                <div class="transaction-history">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Date</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Description</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Amount</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status</th>
                            </tr>
                        </thead>
                        <tbody id="transactionTableBody" class="bg-white divide-y divide-gray-200">
  <!-- Transactions will be dynamically injected here -->
</tbody>

                    </table>
                </div>
                <div class="mt-4 text-center">
                    <button onclick="showTab('transactions')" class="text-green-600 hover:text-green-800 font-medium">
                        View All Transactions
                    </button>
                </div>
            </div>


            <!-- Investment Calculator Section -->
            <section id="calculator" class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <div class="bg-green-50 rounded-xl p-8 md:p-12 shadow-sm">
                        <div class="flex flex-col md:flex-row">
                            <div class="md:w-1/2 mb-10 md:mb-0 md:pr-10">
                                <h2 class="text-3xl font-bold text-green-800 mb-4">Investment Calculator</h2>
                                <p class="text-gray-600 mb-8">
                                    Estimate your potential returns based on your investment amount and selected farming
                                    package.
                                </p>

                                <div class="bg-white p-1 rounded-lg shadow-sm">
                                    <div class="mb-6">
                                        <label class="block text-gray-700 mb-2">Select Package</label>
                                        <select id="packageSelect"
                                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"
                                            onchange="updateFromPackage()">
                                            <option value="maize">Maize (20%)</option>
            <option value="cassava">Cassava (22%)</option>
            <option value="plantain">Plantain (25%)</option>
            <option value="tomato">Tomato (18%)</option>
            <option value="goat">Goats (22%)</option>
            <option value="chicken">Broiler Chickens (16%)</option>
            <option value="pig">Pigs (23%)</option>
            <option value="catfish">Catfish (20%)</option>
            <option value="rabbit">Rabbit (20%)</option>
            <option value="tilapia">Tilapia (22%)</option>
            <option value="pepper">Pepper (16%)</option>
            <option value="okra">Okra (16%)</option>
            <option value="onion">Onion (16%)</option>
            <option value="cattle">Cattle (25%)</option>
            <option value="duck">Duck (18%)</option>
            <option value="crab">Crab (23%)</option>
            <option value="prawn">Fresh Water Prawn (24%)</option>
            <option value="coconut">Coconut (25%)</option>
            <option value="grasscutter">Grasscutter (20%)</option>
            <option value="guinea">Guinea Fowl (20%)</option>
            <option value="snail">Snail (24%)</option>
            <option value="potato">Sweet Potatoes (16%)</option>
            <option value="turkey">Turkeys (20%)</option>
          </select>
                                    </div>

                                    <div class="mb-6">
                                        <label class="block text-gray-700 mb-2">
                                            Investment Amount: <span id="investmentValue"
                                                class="font-bold">‚Çµ1,000</span>
                                        </label>
                                        <div class="flex items-center gap-3">
                                            <input id="investmentRange" type="range" min="50" max="500000" step="50"
                                                value="1000"
                                                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                                oninput="syncFromSlider()" />
                                            <input id="investmentInput" type="number" min="50" max="500000" step="50"
                                                value="1000"
                                                class="w-28 p-2 border border-gray-300 rounded-md text-right"
                                                oninput="syncFromInput()" />
                                        </div>
                                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                                            <span>‚Çµ50</span>
                                            <span>‚Çµ500,000</span>
                                        </div>
                                    </div>

                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <div class="text-sm text-gray-600 mb-1">Duration</div>
                                            <div id="duration" class="font-bold text-green-800">0 months</div>
                                        </div>
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <div class="text-sm text-gray-600 mb-1">Estimated Return</div>
                                            <div id="estimatedReturn" class="font-bold text-green-800">‚Çµ0.00</div>
                                        </div>
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <div class="text-sm text-gray-600 mb-1">Daily Profit</div>
                                            <div id="dailyProfit" class="font-bold text-green-800">‚Çµ0.00</div>
                                        </div>
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <div class="text-sm text-gray-600 mb-1">Number of Units</div>
                                            <div id="unitsDisplay" class="font-bold text-green-800">0 units (‚Çµ50 each)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="md:w-1/2">
                                <div class="bg-white p-8 rounded-lg shadow-sm h-full">
                                    <h3 class="text-xl font-bold text-green-800 mb-6">Why Invest in Agriculture?</h3>
                                    <div class="space-y-6">
                                        <div class="flex">
                                            <div
                                                class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">
                                                <i class="fas fa-chart-line"></i>
                                            </div>
                                            <div>
                                                <h4 class="font-bold mb-1">Stable Returns</h4>
                                                <p class="text-gray-600">Agriculture provides consistent returns
                                                    regardless of economic fluctuations.</p>
                                            </div>
                                        </div>
                                        <div class="flex">
                                            <div
                                                class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">
                                                <i class="fas fa-globe-africa"></i>
                                            </div>
                                            <div>
                                                <h4 class="font-bold mb-1">Impact Investing</h4>
                                                <p class="text-gray-600">Your investment directly supports local farmers
                                                    and communities.</p>
                                            </div>
                                        </div>
                                        <div class="flex">
                                            <div
                                                class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">
                                                <i class="fas fa-shield-alt"></i>
                                            </div>
                                            <div>
                                                <h4 class="font-bold mb-1">Low Risk</h4>
                                                <p class="text-gray-600">Diversified farming operations minimize risk of
                                                    total loss.</p>
                                            </div>
                                        </div>
                                        <div class="flex">
                                            <div
                                                class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">
                                                <i class="fas fa-leaf"></i>
                                            </div>
                                            <div>
                                                <h4 class="font-bold mb-1">Sustainable</h4>
                                                <p class="text-gray-600">We practice environmentally responsible farming
                                                    methods.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Testimonials Section -->
            <section class="py-16 bg-gray-50">
                <div class="container mx-auto px-4">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl font-bold text-green-800 mb-4">
                            What Our Investors Say
                        </h2>
                        <div class="w-20 h-1 bg-green-600 mx-auto mb-6"></div>
                        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                            Hear from people who have invested with us and experienced our
                            farming success.
                        </p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="bg-white p-8 rounded-lg shadow-sm">
                            <div class="flex items-center mb-4">
                                <div
                                    class="w-12 h-12 rounded-full overflow-hidden flex items-center justify-center mr-4">
                                    <img src="img/Esther.png" alt="Esther Ofori" class="w-full h-full object-cover" />
                                </div>
                                <div>
                                    <div class="font-bold">Esther Ofori</div>
                                    <div class="text-sm text-gray-500">Investor since 2018</div>
                                </div>
                            </div>
                            <div class="text-gray-600 mb-4">
                                "I've invested in maize farming for three cycles now and the
                                returns have been consistent. The regular farm updates give me
                                confidence in my investment."
                            </div>
                            <div class="text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>

                        <div class="bg-white p-8 rounded-lg shadow-sm">
                            <div class="flex items-center mb-4">
                                <div
                                    class="w-12 h-12 rounded-full overflow-hidden flex items-center justify-center mr-4">
                                    <img src="img/Samuel.webp" alt="Samuel Nkrumah"
                                        class="w-full h-full object-cover" />
                                </div>
                                <div>
                                    <div class="font-bold">Samuel Nkrumah</div>
                                    <div class="text-sm text-gray-500">Investor since 2020</div>
                                </div>
                            </div>
                            <div class="text-gray-600 mb-4">
                                "The transparency of AncesTree AgrInvest is unmatched. I receive
                                photos and videos of my goats regularly, and the returns exceeded
                                my expectations."
                            </div>
                            <div class="text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>

                        <div class="bg-white p-8 rounded-lg shadow-sm">
                            <div class="flex items-center mb-4">
                                <div
                                    class="w-12 h-12 rounded-full overflow-hidden flex items-center justify-center mr-4">
                                    <img src="img/Yilas.jpeg" alt="Yilas Akbalary" class="w-full h-full object-cover" />
                                </div>
                                <div>
                                    <div class="font-bold">Yilas Akbalary</div>
                                    <div class="text-sm text-gray-500">Investor since 2023</div>
                                </div>
                            </div>
                            <div class="text-gray-600 mb-4">
                                "As an international investor passionate about sustainability,
                                I'm proud to support AncesTree AgrInvest that embraces organic practices
                                and consistently delivers impressive returns."
                            </div>
                            <div class="text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


            <!-- Updates Section -->
            <section id="updates" class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800 mb-4">Farm Updates</h2>
                        <div class="w-20 h-1 bg-green-600 mx-auto mb-6"></div>
                        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                            Stay informed about our latest farming activities and progress.
                        </p>
                    </div>

                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Card 1 -->
                        <div
                            class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 transition-all duration-300 card-hover">
                            <div class="h-48 overflow-hidden">
                                <img src="img/maz.jpeg" alt="Maize Planting"
                                    class="w-full h-full object-cover transition-transform duration-500 hover:scale-105" />
                            </div>
                            <div class="p-6">
                                <div class="flex items-center text-sm text-green-600 mb-2">
                                    <i class="far fa-calendar-alt mr-2"></i>
                                    <span>June 15, 2025</span>
                                </div>
                                <h3 class="text-xl font-bold mb-3 text-gray-800">Maize Planting Season Begins</h3>
                                <p class="text-gray-600 mb-4">
                                    We've started planting this season's maize crop across our
                                    200-acre fields. Optimal weather conditions promise a good
                                    harvest.
                                </p>
                                <button onclick="showModal(1)"
                                    class="flex items-center text-green-700 font-medium hover:text-green-800 transition-colors">
                                    Read More <i class="fas fa-chevron-right ml-2 text-sm"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Card 2 -->
                        <div
                            class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 transition-all duration-300 card-hover">
                            <div class="h-48 overflow-hidden">
                                <img src="img/irrigation.jpg" alt="Irrigation System"
                                    class="w-full h-full object-cover transition-transform duration-500 hover:scale-105" />
                            </div>
                            <div class="p-6">
                                <div class="flex items-center text-sm text-green-600 mb-2">
                                    <i class="far fa-calendar-alt mr-2"></i>
                                    <span>May 28, 2025</span>
                                </div>
                                <h3 class="text-xl font-bold mb-3 text-gray-800">New Irrigation System Installed</h3>
                                <p class="text-gray-600 mb-4">
                                    Our new drip irrigation system is now operational, ensuring
                                    efficient water use and better crop yields during dry seasons.
                                </p>
                                <button onclick="showModal(2)"
                                    class="flex items-center text-green-700 font-medium hover:text-green-800 transition-colors">
                                    Read More <i class="fas fa-chevron-right ml-2 text-sm"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Card 3 -->
                        <div
                            class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 transition-all duration-300 card-hover">
                            <div class="h-48 overflow-hidden">
                                <img src="img/train.jpeg" alt="Farmers Training"
                                    class="w-full h-full object-cover transition-transform duration-500 hover:scale-105" />
                            </div>
                            <div class="p-6">
                                <div class="flex items-center text-sm text-green-600 mb-2">
                                    <i class="far fa-calendar-alt mr-2"></i>
                                    <span>April 10, 2025</span>
                                </div>
                                <h3 class="text-xl font-bold mb-3 text-gray-800">Farmers Training Program</h3>
                                <p class="text-gray-600 mb-4">
                                    We conducted a successful training workshop for local farmers on
                                    sustainable agricultural practices and modern techniques.
                                </p>
                                <button onclick="showModal(3)"
                                    class="flex items-center text-green-700 font-medium hover:text-green-800 transition-colors">
                                    Read More <i class="fas fa-chevron-right ml-2 text-sm"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Investment Modal -->
            <div id="investmentModal"
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white w-full max-w-md rounded-lg shadow-lg p-6 relative">
                    <button onclick="closeInvestmentModal()"
                        class="absolute top-2 right-4 text-gray-400 hover:text-red-500 text-xl">&times;</button>
                    <h2 class="text-xl font-semibold mb-4">Invest in <span id="modalProductName"></span></h2>
                    <form onsubmit="submitInvestment(event)" class="space-y-4">
                        <input type="hidden" id="investmentProduct" />
                        <input type="hidden" id="investmentROI" />
                        <input type="hidden" id="investmentDuration" />

                        <label class="block font-medium">Amount (‚Çµ)</label>
                        <input type="number" id="investmentAmount" class="border p-2 rounded w-full"
                            placeholder="Enter amount" min="50" required />

                        <button type="submit"
                            class="bg-green-600 text-white w-full px-4 py-2 rounded hover:bg-green-700">Confirm
                            Investment</button>
                    </form>
                </div>
            </div>


            <!-- Withdraw Modal -->
            <div id="withdrawModal"
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white w-full max-w-md rounded-lg shadow-lg p-6 relative">
                    <button onclick="closeWithdrawModal()"
                        class="absolute top-2 right-4 text-gray-400 hover:text-red-500 text-xl">&times;</button>
                    <h2 class="text-xl font-semibold mb-4">Withdraw Funds</h2>
                    <form onsubmit="requestWithdrawal(event)" class="space-y-4">
                        <input type="number" id="withdrawAmount" placeholder="Amount (GHS)"
                            class="border p-2 rounded w-full" required>

                        <div>
                            <label class="block mb-1 font-medium">Method:</label>
                            <label><input type="radio" name="withdrawMethod" value="momo" checked> Mobile Money</label>
                            <label class="ml-4"><input type="radio" name="withdrawMethod" value="bank"> Bank
                                Transfer</label>
                        </div>

                        <div id="momoFields" class="space-y-2">
                            <input type="text" id="momoNumber" placeholder="Mobile Money Number"
                                class="border p-2 rounded w-full">
                        </div>

                        <div id="bankFields" class="space-y-2 hidden">
                            <input type="text" id="bankName" placeholder="Bank Name" class="border p-2 rounded w-full">
                            <input type="text" id="accountNumber" placeholder="Bank Account Number"
                                class="border p-2 rounded w-full">
                        </div>

                        <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded w-full">Withdraw</button>
                    </form>
                </div>
            </div>


            <!-- Contact Section -->
            <section id="contact" class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl font-bold text-green-800 mb-4">Contact Us</h2>
                        <div class="w-20 h-1 bg-green-600 mx-auto mb-6"></div>
                        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                            Have questions or need more information? We're here to help.
                        </p>
                    </div>

                    <div class="flex flex-col md:flex-row">
                        <div class="md:w-1/2 mb-10 md:mb-0 md:pr-10">
                            <div class="bg-gray-50 p-8 rounded-lg shadow-sm">
                                <h3 class="text-xl font-bold text-green-800 mb-6">Get In Touch</h3>

                                <form id="contactForm">

                                    <input type="hidden" name="_captcha" value="false">

                                    <div class="mb-4">
                                        <label class="block text-gray-700 mb-2">Full Name</label>
                                        <input type="text" name="name" required
                                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600" />
                                    </div>

                                    <div class="mb-4">
                                        <label class="block text-gray-700 mb-2">Email Address</label>
                                        <input type="email" name="email" required
                                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600" />
                                    </div>

                                    <div class="mb-4">
                                        <label class="block text-gray-700 mb-2">Phone Number</label>
                                        <input type="tel" name="phone"
                                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600" />
                                    </div>

                                    <div class="mb-4">
                                        <label class="block text-gray-700 mb-2">Message</label>
                                        <textarea name="message" rows="4" required
                                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"></textarea>
                                    </div>

                                    <button type="submit"
                                        class="w-full py-3 bg-green-800 hover:bg-green-900 text-white rounded-md font-medium transition">
                                        Send Message
                                    </button>
                                </form>
                            </div>
                        </div>
                        <div class="md:w-1/2">
                            <div class="bg-gray-50 p-8 rounded-lg shadow-sm h-full">
                                <h3 class="text-xl font-bold text-green-800 mb-6">
                                    Our Information
                                </h3>

                                <div class="space-y-6">
                                    <div class="flex">
                                        <div
                                            class="bg-green-100 text-green-800 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1">Farm Location</h4>
                                            <p class="text-gray-600">
                                                Kumasi-Accra Road, Ejisu, Ashanti Region, Ghana
                                            </p>
                                        </div>
                                    </div>

                                    <div class="flex">
                                        <div
                                            class="bg-green-100 text-green-800 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0">
                                            <i class="fas fa-phone-alt"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1">Call Us</h4>
                                            <p class="text-gray-600">+1 571 293 2461</p>
                                        </div>
                                    </div>

                                    <div class="flex">
                                        <div
                                            class="bg-green-100 text-green-800 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1">Working Hours</h4>
                                            <p class="text-gray-600">
                                                Monday - Friday: 8:00 AM - 5:00 PM
                                            </p>
                                            <p class="text-gray-600">Saturday: 9:00 AM - 1:00 PM</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-8">
                                    <h4 class="font-bold text-green-800 mb-4">Follow Us</h4>
                                    <div class="flex space-x-4">
                                        <a href="#"
                                            class="bg-green-100 text-green-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-200 transition">
                                            <i class="fab fa-facebook-f"></i>
                                        </a>
                                        <a href="#"
                                            class="bg-green-100 text-green-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-200 transition">
                                            <i class="fab fa-twitter"></i>
                                        </a>
                                        <a href="#"
                                            class="bg-green-100 text-green-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-200 transition">
                                            <i class="fab fa-instagram"></i>
                                        </a>
                                        <a href="#"
                                            class="bg-green-100 text-green-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-200 transition">
                                            <i class="fab fa-linkedin-in"></i>
                                        </a>
                                        <a href="#"
                                            class="bg-green-100 text-green-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-200 transition">
                                            <i class="fab fa-youtube"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <div id="successModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50">
        <div class="bg-white p-1 rounded-lg shadow-lg text-center">
            <h3 class="text-xl font-bold mb-4 text-green-800">Message Sent Successfully!</h3>
            <p class="text-gray-700 mb-4">Thank you for reaching out. We will get back to you shortly.</p>
            <button onclick="document.getElementById('successModal').classList.add('hidden')"
                class="px-4 py-2 bg-green-700 text-white rounded hover:bg-green-800 transition">
                Close
            </button>
        </div>
    </div>

        </div>

        <!-- Deposit Modal -->
        <div id="depositModal"
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white w-full max-w-md rounded-lg shadow-lg p-6 relative">
                <button onclick="closeDepositModal()"
                    class="absolute top-2 right-4 text-gray-400 hover:text-red-500 text-xl">&times;</button>
                <h2 class="text-xl font-semibold mb-4">Deposit Funds</h2>
                <form onsubmit="initiateDeposit(event)" class="space-y-4">
                    <input type="number" id="depositAmount" class="border p-2 rounded w-full"
                        placeholder="Enter amount (‚Çµ)" required min="1" />
                    <button type="submit"
                        class="bg-green-700 text-white w-full px-4 py-2 rounded hover:bg-green-800">Proceed to
                        Paymentt</button>
                </form>
            </div>
        </div>


        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-12">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8 mb-8">
                    <div>
                        <div class="flex items-center mb-4">
                            <img src="img/logo.PNG" alt="AncesTree Logo" class="h-8 w-8 mr-2" />
                            <h3 class="text-xl font-bold">AncesTree AgrInvest</h3>
                        </div>

                        <p class="text-gray-400 mb-4">
                            Continuing a tradition of sustainable agriculture while creating
                            investment opportunities for everyone.
                        </p>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-map-marker-alt text-green-500"></i>
                            <span class="text-gray-400">Kumasi-Accra Road, Ejisu, Ashanti Region, Ghana</span>
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold mb-4 text-lg border-b border-green-500 pb-2 inline-block">Quick Links</h4>
                        <ul class="space-y-2">
                            <li>
                                <a href="#home" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-chevron-right text-green-500 mr-2 text-xs"></i> Home
                                </a>
                            </li>
                            <li>
                                <a href="#about" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-chevron-right text-green-500 mr-2 text-xs"></i> About Us
                                </a>
                            </li>
                            <li>
                                <a href="#how-it-works"
                                    class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-chevron-right text-green-500 mr-2 text-xs"></i> How It Works
                                </a>
                            </li>
                            <li>
                                <a href="#invest" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-chevron-right text-green-500 mr-2 text-xs"></i> Investments
                                </a>
                            </li>
                            <li>
                                <a href="#updates" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-chevron-right text-green-500 mr-2 text-xs"></i> Farm Updates
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="font-bold mb-4 text-lg border-b border-green-500 pb-2 inline-block">Investments</h4>
                        <ul class="space-y-2">
                            <li>
                                <a href="#" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-seedling text-green-500 mr-2"></i> Maize Farming
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-paw text-green-500 mr-2"></i> Goat Rearing
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-egg text-green-500 mr-2"></i> Poultry Farming
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-ellipsis-h text-green-500 mr-2"></i> And Many More
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-gray-400 hover:text-white transition flex items-center">
                                    <i class="fas fa-calculator text-green-500 mr-2"></i> Investment Calculator
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="font-bold mb-4 text-lg border-b border-green-500 pb-2 inline-block">Legal</h4>
                        <ul class="space-y-2">
                            <li>
                                <button onclick="window.location.href='terms.html'"
                                    class="text-gray-400 hover:text-white transition flex items-center cursor-pointer">
                                    <i class="fas fa-file-contract text-green-500 mr-2"></i> Terms of Service
                                </button>

                            </li>
                            <li>
                                <button onclick="window.location.href='privacy.html'"
                                    class="text-gray-400 hover:text-white transition flex items-center cursor-pointer">
                                    <i class="fas fa-shield-alt text-green-500 mr-2"></i> Privacy Policy
                                </button>
                            </li>
                            <li>
                                <button onclick="window.location.href='risk.html'"
                                    class="text-gray-400 hover:text-white transition flex items-center cursor-pointer">
                                    <i class="fas fa-exclamation-triangle text-green-500 mr-2"></i> Risk Disclosure
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="pt-8 border-t border-gray-800">
                    <div class="flex flex-col md:flex-row justify-between items-center">
                        <p class="text-gray-400 mb-4 md:mb-0">
                            ¬© 2025 AncesTree AgrInvest. All rights reserved.
                        </p>
                        <div class="flex space-x-6">
                            <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <script>
            function showWithdrawModal() {
                document.getElementById('withdrawModal').classList.remove('hidden');
            }

            function closeWithdrawModal() {
                document.getElementById('withdrawModal').classList.add('hidden');
            }

            document.querySelectorAll('input[name="withdrawMethod"]').forEach(el => {
                el.addEventListener('change', () => {
                    const method = el.value;
                    document.getElementById('momoFields').classList.toggle('hidden', method !== 'momo');
                    document.getElementById('bankFields').classList.toggle('hidden', method !== 'bank');
                });
            });

             async function loadTransactions() {
    try {
      const res = await fetch(`${API_URL}/transaction`, {
        headers: {
          'Authorization': 'Bearer ' + localStorage.getItem('token')
        }
      });
      const transactions = await res.json();

      const tbody = document.getElementById("transactionTableBody");
      tbody.innerHTML = ""; // clear existing rows

      if (!Array.isArray(transactions)) return;

      transactions.slice(0, 6).forEach(tx => {
        const row = document.createElement("tr");

        row.innerHTML = `
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${new Date(tx.date).toLocaleDateString()}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${tx.description}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">‚Çµ${tx.amount.toFixed(2)}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm ${
            tx.status === 'Completed' ? 'text-green-600' :
            tx.status === 'Pending' ? 'text-yellow-600' :
            tx.status === 'Processed' ? 'text-blue-600' : 'text-gray-600'
          }">${tx.status}</td>
        `;

        tbody.appendChild(row);
      });
    } catch (error) {
      console.error("Error loading transactions:", error);
    }
  }

  loadTransactions();

            async function requestWithdrawal(event) {
                event.preventDefault();

                const amount = parseFloat(document.getElementById('withdrawAmount').value);
                const method = document.querySelector('input[name="withdrawMethod"]:checked').value;
                const details = method === 'momo'
                    ? { mobileMoneyNumber: document.getElementById('momoNumber').value }
                    : {
                        bankName: document.getElementById('bankName').value,
                        accountNumber: document.getElementById('accountNumber').value,
                    };

                if (amount < 1) return alert("Amount must be at least GHS 1.00");

                const body = {
                    amount,
                    method,
                    ...details
                };

                try {
                    const res = await fetch(`${window.API_URL}/transaction/withdraw`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer ' + localStorage.getItem('token')
                        },
                        body: JSON.stringify(body)
                    });

                    const data = await res.json();
                    if (res.ok) {
                        alert('Withdrawal requested successfully. Awaiting admin approval.');
                        closeWithdrawModal();
                    } else {
                        alert(data.message || 'Withdrawal failed.');
                    }
                } catch (err) {
                    console.error('Withdrawal error:', err);
                    alert('Something went wrong.');
                }
            }
        </script>

<script>
  const dashboardPackages = {
    maize: { roi: 20, duration: 3 },
    cassava: { roi: 22, duration: 6 },
    plantain: { roi: 25, duration: 8 },
    tomato: { roi: 18, duration: 3 },
    goat: { roi: 22, duration: 6 },
    chicken: { roi: 16, duration: 3 },
    pig: { roi: 23, duration: 8 },
    catfish: { roi: 20, duration: 6 },
    rabbit: { roi: 20, duration: 6 },
    tilapia: { roi: 22, duration: 6 },
    pepper: { roi: 16, duration: 3 },
    okra: { roi: 16, duration: 3 },
    onion: { roi: 16, duration: 3 },
    cattle: { roi: 25, duration: 12 },
    duck: { roi: 18, duration: 4 },
    crab: { roi: 23, duration: 6 },
    prawn: { roi: 24, duration: 8 },
    coconut: { roi: 25, duration: 24 },
    grasscutter: { roi: 20, duration: 6 },
    guinea: { roi: 20, duration: 4 },
    snail: { roi: 24, duration: 12 },
    potato: { roi: 16, duration: 3 },
    turkey: { roi: 20, duration: 5 }
  };

  const packageSelect = document.getElementById('packageSelect');
  const investmentInput = document.getElementById('investmentInput');
  const investmentRange = document.getElementById('investmentRange');
  const investmentValue = document.getElementById('investmentValue');
  const durationField = document.getElementById('duration');
  const estimatedReturn = document.getElementById('estimatedReturn');
  const dailyProfit = document.getElementById('dailyProfit');
  const unitsDisplay = document.getElementById('unitsDisplay');

  function updateFromPackage() {
    const key = packageSelect.value;
    const pkg = dashboardPackages[key];
    const amount = parseFloat(investmentInput.value) || 0;

    const estimated = amount + (amount * pkg.roi / 100);
    const daily = (amount * pkg.roi / 100) / (pkg.duration * 30);
    const units = Math.floor(amount / 50);

    durationField.textContent = `${pkg.duration} months`;
    estimatedReturn.textContent = `‚Çµ${estimated.toFixed(2)}`;
    dailyProfit.textContent = `‚Çµ${daily.toFixed(2)}`;
    unitsDisplay.textContent = `${units} units (‚Çµ50 each)`;
    investmentValue.textContent = `‚Çµ${amount}`;
  }

  function syncFromSlider() {
    investmentInput.value = investmentRange.value;
    updateFromPackage();
  }

  function syncFromInput() {
    investmentRange.value = investmentInput.value;
    updateFromPackage();
  }

  // Add event listeners to sync inputs
  investmentRange.addEventListener('input', syncFromSlider);
  investmentInput.addEventListener('input', syncFromInput);
  packageSelect.addEventListener('change', updateFromPackage);

  // Initial calculation
  window.addEventListener('DOMContentLoaded', () => {
    syncFromSlider();
  });
</script>




</body>




<script>

    function openInvestmentForm(product, roi, duration) {
        document.getElementById('investmentModal').classList.remove('hidden');
        document.getElementById('modalProductName').textContent = product;
        document.getElementById('investmentProduct').value = product;
        document.getElementById('investmentROI').value = roi;
        document.getElementById('investmentDuration').value = duration;
    }

    function closeInvestmentModal() {
        document.getElementById('investmentModal').classList.add('hidden');
    }

    async function submitInvestment(event) {
        event.preventDefault();

        const product = document.getElementById('investmentProduct').value;
        const roi = parseFloat(document.getElementById('investmentROI').value);
        const duration = parseInt(document.getElementById('investmentDuration').value);
        const amount = parseFloat(document.getElementById('investmentAmount').value);

        if (amount < 50) {
            return alert("Minimum investment is ‚Çµ50");
        }

        try {
            const res = await fetch(`${window.API_URL}/investment`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + localStorage.getItem('token')
                },
                body: JSON.stringify({ product, roi, duration, amount })
            });

            const data = await res.json();

            if (res.ok) {
                alert('Investment successful!');
                closeInvestmentModal();
                // Optionally refresh dashboard or investment stats
            } else {
                alert(data.message || 'Investment failed');
            }
        } catch (err) {
            console.error(err);
            alert('Server error. Try again later.');
        }
    }

    function showDepositModal() {
        document.getElementById('depositModal').classList.remove('hidden');
    }

    function closeDepositModal() {
        document.getElementById('depositModal').classList.add('hidden');
    }

    async function initiateDeposit(event) {
        event.preventDefault();
        const amount = parseFloat(document.getElementById('depositAmount').value);

        if (!amount || amount < 1) {
            alert("Please enter a valid amount");
            return;
        }

        try {
            const res = await fetch(`${window.API_URL}/transaction/deposit`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + localStorage.getItem('token')
                },
                body: JSON.stringify({ amount })
            });

            const data = await res.json();

            if (res.ok && data.authorization_url) {
                // Redirect to Paystack
                window.location.href = data.authorization_url;
            } else {
                alert(data.message || 'Failed to initiate deposit.');
            }
        } catch (err) {
            console.error(err);
            alert("Server error. Try again.");
        }
    }

    router.put('/user/update', authenticateToken, async (req, res) => {
  try {
    const userId = req.user.id;
    const { fullName, email, phone, address, profilePicture } = req.body;

    const updatedFields = {};
    if (fullName) updatedFields.fullName = fullName;
    if (email) updatedFields.email = email;
    if (phone) updatedFields.phone = phone;
    if (address) updatedFields.address = address;
    if (profilePicture) updatedFields.profilePicture = profilePicture;

    const updatedUser = await User.findByIdAndUpdate(userId, updatedFields, { new: true });

    res.status(200).json(updatedUser);
  } catch (err) {
    res.status(500).json({ error: 'Failed to update profile' });
  }
});

function openProfile() {
  const modal = document.getElementById('profileModal');
  modal.classList.remove('hidden');
  modal.classList.add('flex');

  fetch('/api/users/me')
    .then(res => res.json())
    .then(user => {
      document.getElementById('modalUsername').textContent = user.username;
      document.getElementById('modalFullName').textContent = user.fullName;
      document.getElementById('modalEmail').textContent = user.email;
      document.getElementById('modalPhone').textContent = user.phone;
      document.getElementById('modalAddress').textContent = user.address || 'N/A';
      document.getElementById('profileModalImage').src = user.profilePicture || 'https://via.placeholder.com/80';
    })
    .catch(err => {
      alert('Failed to load profile');
      console.error(err);
    });
}

function closeProfile() {
  const modal = document.getElementById('profileModal');
  modal.classList.add('hidden');
  modal.classList.remove('flex');
}

// Close if user clicks outside the modal
window.addEventListener('click', function (e) {
  const modal = document.getElementById('profileModal');
  if (!modal.classList.contains('hidden') && e.target === modal) {
    closeProfile();
  }
});

// Handle profile image upload
document.getElementById('profileImageUpload').addEventListener('change', function () {
  const file = this.files[0];
  if (!file) return;

  const formData = new FormData();
  formData.append('profilePicture', file);

  fetch('/api/users/me/profile-picture', {
    method: 'POST',
    body: formData
  })
    .then(res => res.json())
    .then(data => {
      if (data.profilePicture) {
        document.getElementById('profileModalImage').src = data.profilePicture;
        document.getElementById('profileButton').querySelector('img').src = data.profilePicture;
      }
    })
    .catch(err => {
      alert('Failed to upload profile picture');
      console.error(err);
    });
});


    const profileButton = document.getElementById("profileButton");
    const profileDropdown = document.getElementById("profileDropdown");
    const mobileMenuButton = document.getElementById("mobileMenuButton");
    const mobileDropdown = document.getElementById("mobileDropdown");

    // Toggle Profile Dropdown
    profileButton.addEventListener("click", function (e) {
        e.stopPropagation();
        closeAllDropdowns();
        profileDropdown.classList.toggle("hidden");
    });

    const API_URL = 'https://ancetree.onrender.com/api';

     async function openProfileModal() {
    try {
      const res = await fetch(`${API_URL}/user/me`, {
        headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }
      });
      const user = await res.json();

      document.getElementById('profileUsername').textContent = user.username || '‚Äî';
      document.getElementById('profileFullName').textContent = user.fullName || '‚Äî';
      document.getElementById('profileEmail').textContent = user.email || '‚Äî';
      document.getElementById('profilePhone').textContent = user.phone || '‚Äî';
      document.getElementById('profileAddress').textContent = user.address || '‚Äî';

      document.getElementById('profilePicture').src = user.profileImage ? `${API_URL}${user.profileImage}` : 'https://via.placeholder.com/100';
      document.getElementById('profileModal').classList.remove('hidden');
    } catch (err) {
      alert('Failed to load profile info');
    }
  }

  function closeProfileModal() {
    document.getElementById('profileModal').classList.add('hidden');
  }

  function closeOnOutsideClick(event) {
    if (event.target.id === 'profileModal') {
      closeProfileModal();
    }
  }

    async function loadUserData() {
        try {
            const res = await fetch(`${API_URL}/user/me`, {
                headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }
            });
            const user = await res.json();

            // Replace name in navbar and welcome banner
            document.getElementById('userDropdownName').textContent = user.fullName;
            document.getElementById('welcomeName').textContent = user.fullName;

            // Fill profile inputs
            document.getElementById('profileFullName').value = user.fullName;
            document.getElementById('profileEmail').value = user.email;
            document.getElementById('profilePhone').value = user.phone;

            // Optional: update profile image if available
            if (user.profilePicture && user.profilePicture !== '') {
                document.getElementById('profilePreview').src = user.profilePicture;
            }

        } catch (err) {
            console.error('Error loading user data:', err);
        }
    }

    loadUserData();

    // Toggle dropdown
function toggleDropdown() {
  document.getElementById("profileDropdown").classList.toggle("hidden");
}

// Open/close modals
function openModal(id) {
  document.getElementById(id).classList.remove("hidden");
}

function closeModal(id) {
  document.getElementById(id).classList.add("hidden");
}

// Load user profile
async function loadUserProfile() {
  const res = await fetch(`${API_URL}/user/me`, {
    headers: { Authorization: "Bearer " + localStorage.getItem("token") }
  });
  const user = await res.json();

  // Avatar and name
  document.getElementById("userAvatar").src = user.profileImage || "https://via.placeholder.com/32";
  document.getElementById("userDropdownName").textContent = user.fullName;

  // Profile modal fields
  document.getElementById("profileFullName").value = user.fullName;
  document.getElementById("profileEmail").value = user.email;
  document.getElementById("profilePhone").value = user.phone;
  document.getElementById("profilePreview").src = user.profileImage || "https://via.placeholder.com/100";
}

// Upload & update profile
async function updateProfile() {
  const fullName = document.getElementById("profileFullName").value;
  const email = document.getElementById("profileEmail").value;
  const phone = document.getElementById("profilePhone").value;
  const image = document.getElementById("profileImageInput").files[0];

  const formData = new FormData();
  formData.append("fullName", fullName);
  formData.append("email", email);
  formData.append("phone", phone);
  if (image) formData.append("profileImage", image);

  const res = await fetch(`${API_URL}/user/update-profile`, {
    method: "PUT",
    headers: { Authorization: "Bearer " + localStorage.getItem("token") },
    body: formData
  });

  if (res.ok) {
    alert("Profile updated successfully");
    closeModal("profileModal");
    loadUserProfile();
  } else {
    alert("Failed to update profile.");
  }
}

// Logout
function logout() {
  localStorage.removeItem("token");
  window.location.href = "index.html";
}

// Load data
loadUserProfile();

    async function loadGrowthChart() {
        const res = await fetch(`${window.API_URL}/investment`, {
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('token')
            }
        });
        const investments = await res.json();
        const labels = [], data = [];

        investments.forEach(inv => {
            let days = Math.floor((Date.now() - new Date(inv.startDate)) / (1000 * 60 * 60 * 24));
            if (days > inv.duration) days = inv.duration;
            for (let i = 0; i <= days; i++) {
                labels.push(`Day ${i + 1}`);
                data.push(((inv.dailyProfit || 0) * (i + 1)).toFixed(2));
            }
        });

        const ctx = document.getElementById('growthChart');
        if (ctx) {
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels,
                    datasets: [{
                        label: 'Daily ROI Growth (GHS)',
                        data,
                        borderColor: '#10b981',
                        fill: false
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }
    }

    loadGrowthChart();

    async function loadPortfolioChart() {
        const res = await fetch(`${window.API_URL}/investment`, {
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('token')
            }
        });
        const investments = await res.json();

        const labels = [];
        const amounts = [];

        investments.forEach(inv => {
            const index = labels.indexOf(inv.product);
            if (index === -1) {
                labels.push(inv.product);
                amounts.push(inv.amount);
            } else {
                amounts[index] += inv.amount;
            }
        });

        const ctx = document.getElementById('portfolioChart');
        if (ctx) {
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels,
                    datasets: [{
                        label: 'Invested Amount',
                        data: amounts,
                        backgroundColor: ['#34d399', '#60a5fa', '#facc15', '#f87171'],
                        borderWidth: 1
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }
    }

    loadPortfolioChart();


    function filterPackages(category) {
        const cards = document.querySelectorAll('.investment-card');
        const buttons = document.querySelectorAll('.tab-button');

        // Remove active class from all buttons
        buttons.forEach(btn => btn.classList.remove('active'));

        // Add active class to the clicked button
        const clickedButton = Array.from(buttons).find(btn => btn.textContent.trim().toLowerCase() === category);
        if (clickedButton) clickedButton.classList.add('active');

        // Show/hide cards
        cards.forEach(card => {
            const cardCategory = card.getAttribute('data-category');
            if (category === 'all' || cardCategory === category) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });
    }
    async function loadDashboardData() {
        try {
            const res = await fetch(`${API_URL}/user/me`, {
                headers: {
                    'Authorization': 'Bearer ' + localStorage.getItem('token')
                }
            });
            const user = await res.json();

            // Inject real user info
            document.getElementById('welcomeName').textContent = user.fullName || 'User';
            document.getElementById('totalInvested').textContent = `‚Çµ${user.invested.toFixed(2)}`;
            document.getElementById('totalEarnings').textContent = `‚Çµ${user.earnings.toFixed(2)}`;
            document.getElementById('availableBalance').textContent = `‚Çµ${user.balance.toFixed(2)}`;
        } catch (err) {
            console.error('Failed to load dashboard data', err);
        }
    }

    async function loadGrowthChart() {
        const res = await fetch(`${API_URL}/investment`, {
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('token')
            }
        });
        const investments = await res.json();
        const labels = [], data = [];

        investments.forEach(inv => {
            let days = Math.floor((Date.now() - new Date(inv.startDate)) / (1000 * 60 * 60 * 24));
            if (days > inv.duration) days = inv.duration;
            for (let i = 0; i <= days; i++) {
                labels.push(`Day ${i + 1}`);
                data.push(((inv.dailyProfit || 0) * (i + 1)).toFixed(2));
            }
        });

        const ctx = document.getElementById('growthChart');
        if (ctx) {
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels,
                    datasets: [{
                        label: 'Daily ROI Growth (GHS)',
                        data,
                        borderColor: '#10b981',
                        fill: false
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }
    }

    loadDashboardData();
    loadGrowthChart();

    document.addEventListener('DOMContentLoaded', () => {
        fetch('/api/user/me')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to fetch user data');
                }
                return response.json();
            })
            .then(user => {
                // Update navbar username
                const usernameSpan = document.querySelector('#navbarUsername');
                if (usernameSpan) {
                    usernameSpan.textContent = user.username || 'User';
                }

                // Update profile image
                const navbarAvatar = document.querySelector('#navbarAvatar');
                if (navbarAvatar && user.profileImage) {
                    navbarAvatar.src = user.profileImage;
                }

                // Update dashboard name
                const dashboardName = document.querySelector('#dashboardUsername');
                if (dashboardName) {
                    dashboardName.textContent = user.username || 'User';
                }

                // Update email, phone, etc. on profile page if needed
                const profileEmail = document.querySelector('#profileEmail');
                const profilePhone = document.querySelector('#profilePhone');
                const profileFullName = document.querySelector('#profileFullName');
                const profileImage = document.querySelector('#profileImage');

                if (profileEmail) profileEmail.textContent = user.email || '';
                if (profilePhone) profilePhone.textContent = user.phone || '';
                if (profileFullName) profileFullName.textContent = user.fullName || '';
                if (profileImage && user.profileImage) profileImage.src = user.profileImage;

                // Set all cash balances to 0.00 if no balance is returned
                const balanceElements = document.querySelectorAll('.user-balance');
                balanceElements.forEach(el => {
                    el.textContent = user.balance ? user.balance.toFixed(2) : '0.00';
                });
            })
            .catch(error => {
                console.error('Error loading user data:', error);
            });
    });

    // Toggle Mobile Dropdown
    mobileMenuButton.addEventListener("click", function (e) {
        e.stopPropagation();
        closeAllDropdowns();
        mobileDropdown.classList.toggle("hidden");
    });

    // Close dropdowns when clicking anywhere else
    window.addEventListener("click", function () {
        closeAllDropdowns();
    });

    function closeAllDropdowns() {
        profileDropdown.classList.add("hidden");
        mobileDropdown.classList.add("hidden");
    }

    let comparisonChart, dailyChart;

    function setDurationByROI() {
        const value = document.getElementById('packageSelect').value;
        const [product, roi, duration] = value.split('|');
        document.getElementById('investmentDuration').value = duration;
    }

    function calculateROI() {
        const value = document.getElementById('packageSelect').value;
        const [product, roi, duration] = value.split('|');
        const amount = parseFloat(document.getElementById('investmentAmount').value);
        const durationMonths = parseInt(duration);

        if (!amount || amount < 50) {
            alert("Minimum investment is ‚Çµ50");
            return;
        }

        const profit = (roi / 100) * amount;
        const total = amount + profit;
        const days = durationMonths * 30;
        const dailyProfit = profit / days;

        // Projected return
        document.getElementById('roiResults').innerHTML = `
      <p class="text-lg text-gray-700 mb-2"><strong>Package:</strong> ${product}</p>
      <p class="text-xl font-bold text-green-700">Expected Return: ‚Çµ${profit.toFixed(2)}</p>
      <p class="text-md text-gray-600">Total at end of ${duration} months: ‚Çµ${total.toFixed(2)}</p>
      <button onclick="proceedToPaystack('${product}', ${roi}, ${duration}, ${amount})"
        class="mt-4 bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800">
        Proceed to Invest
      </button>
    `;

        updateComparisonChart(product, amount, total);
        updateDailyProfitChart(product, dailyProfit, days);
    }

    function updateComparisonChart(product, initial, projected) {
        const ctx = document.getElementById('comparisonChart').getContext('2d');
        if (comparisonChart) comparisonChart.destroy();

        comparisonChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Initial Investment', 'Projected Return'],
                datasets: [{
                    label: product,
                    backgroundColor: ['#4ade80', '#22c55e'],
                    data: [initial, projected]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: `Investment vs Return for ${product}`
                    }
                }
            }
        });
    }
    

    function updateDailyProfitChart(product, dailyProfit, days) {
        const ctx = document.getElementById('growthChart').getContext('2d');
        if (dailyChart) dailyChart.destroy();

        const labels = Array.from({ length: days }, (_, i) => `Day ${i + 1}`);
        const data = labels.map((_, i) => (dailyProfit * (i + 1)).toFixed(2));

        dailyChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels,
                datasets: [{
                    label: `${product} - Daily Growth (GHS)`,
                    data,
                    borderColor: 'green',
                    fill: true,
                    tension: 0.3,
                    backgroundColor: 'rgba(34,197,94,0.1)'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Daily Profit Projection'
                    }
                }
            }
        });
    }

    async function proceedToPaystack(product, roi, duration, amount) {
        try {
            const res = await fetch('https://ancetree.onrender.com/api/investment/initiate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + localStorage.getItem('token')
                },
                body: JSON.stringify({
                    product,
                    roi,
                    duration,
                    amount
                })
            });

            const data = await res.json();
            if (data.authorization_url) {
                window.location.href = data.authorization_url;
            } else {
                alert("Failed to initiate investment.");
            }
        } catch (err) {
            console.error(err);
            alert("Something went wrong.");
        }
    }

    // Initialize duration on load
    setTimeout(() => setDurationByROI(), 200);

    document.addEventListener('DOMContentLoaded', () => {
    const dashboardPackages = {
      maize: { roi: 20, duration: 3 }, cassava: { roi: 22, duration: 6 }, plantain: { roi: 25, duration: 8 },
      tomato: { roi: 18, duration: 3 }, goat: { roi: 22, duration: 6 }, chicken: { roi: 16, duration: 3 },
      pig: { roi: 23, duration: 8 }, catfish: { roi: 20, duration: 6 }, rabbit: { roi: 20, duration: 6 },
      salmon: { roi: 21, duration: 6 }, okra: { roi: 16, duration: 3 }, cattle: { roi: 25, duration: 12 },
      tilapia: { roi: 22, duration: 6 }, onion: { roi: 16, duration: 3 }, grasscutter: { roi: 20, duration: 6 },
      snail: { roi: 24, duration: 12 }, cabbage: { roi: 16, duration: 3 }, duck: { roi: 18, duration: 4 },
      crab: { roi: 23, duration: 6 }, potato: { roi: 16, duration: 3 }, guinea: { roi: 20, duration: 4 },
      prawn: { roi: 24, duration: 8 }, coconut: { roi: 25, duration: 24 }, turkeys: { roi: 20, duration: 5 }
    };

    const packageSelect = document.getElementById('packageSelect');

    // Populate package dropdown
    Object.keys(dashboardPackages).forEach(key => {
      const { roi } = dashboardPackages[key];
      const opt = document.createElement('option');
      opt.value = key;
      opt.textContent = `${key.charAt(0).toUpperCase() + key.slice(1)} (${roi}% ROI)`;
      packageSelect.appendChild(opt);
    });

    // Sync functions
    function updateFromPackage() {
      const selected = dashboardPackages[packageSelect.value];
      const amount = parseFloat(document.getElementById('investmentInput').value) || 0;
      if (!selected || amount <= 0) return;

      const { roi, duration } = selected;
      const estimated = amount + (amount * roi / 100);
      const daily = ((amount * roi / 100) / (duration * 30)).toFixed(2);
      const units = Math.floor(amount / 50);

      document.getElementById('duration').textContent = `${duration} months`;
      document.getElementById('estimatedReturn').textContent = `‚Çµ${estimated.toFixed(2)}`;
      document.getElementById('dailyProfit').textContent = `‚Çµ${daily}`;
      document.getElementById('unitsDisplay').textContent = `${units} unit${units === 1 ? '' : 's'} (‚Çµ50 each)`;
      document.getElementById('investmentValue').textContent = `‚Çµ${amount.toLocaleString()}`;
    }

    function syncFromSlider() {
      const amount = document.getElementById('investmentRange').value;
      document.getElementById('investmentInput').value = amount;
      updateFromPackage();
    }

    function syncFromInput() {
      const amount = document.getElementById('investmentInput').value;
      document.getElementById('investmentRange').value = amount;
      updateFromPackage();
    }

    // Attach event listeners
    packageSelect.addEventListener('change', updateFromPackage);
    document.getElementById('investmentRange').addEventListener('input', syncFromSlider);
    document.getElementById('investmentInput').addEventListener('input', syncFromInput);

    // Initial calc
    updateFromPackage();
  });

     const contactForm = document.getElementById('contactForm');
  const modal = document.getElementById('successModal');

  contactForm.addEventListener('submit', async function (e) {
    e.preventDefault();

    const formData = new FormData(contactForm);

    try {
      const res = await fetch("https://formsubmit.co/ajax/princekwarteng000@gmail.com", {
        method: "POST",
        headers: {
          'Accept': 'application/json'
        },
        body: formData
      });

      if (res.ok) {
        modal.classList.remove('hidden');
        contactForm.reset();
      } else {
        alert("Something went wrong. Please try again.");
      }
    } catch (err) {
      console.error("Form submission error:", err);
      alert("Failed to send message. Please check your connection.");
    }
  });

  function openNotifications() {
  const modal = document.getElementById('notificationsModal');
  modal.classList.remove('hidden');
  modal.classList.add('flex');

  fetch('/api/users/me/notifications')
    .then(res => res.json())
    .then(data => {
      const list = document.getElementById('notificationList');
      list.innerHTML = '';

      if (!data || data.length === 0) {
        list.innerHTML = '<li class="text-gray-500 text-sm">No notifications yet.</li>';
      } else {
        data.forEach(note => {
          const li = document.createElement('li');
          li.innerHTML = `
            <div class="p-3 bg-green-50 border border-green-200 rounded shadow-sm">
              <div class="font-medium">${note.title || 'Notification'}</div>
              <div class="text-sm text-gray-600">${note.message}</div>
              <div class="text-xs text-gray-400 mt-1">${new Date(note.createdAt).toLocaleString()}</div>
            </div>`;
          list.appendChild(li);
        });
      }
    })
    .catch(err => {
      document.getElementById('notificationList').innerHTML =
        '<li class="text-red-500 text-sm">Error loading notifications</li>';
      console.error('Notification fetch error:', err);
    });
}

function closeNotifications() {
  const modal = document.getElementById('notificationsModal');
  modal.classList.add('hidden');
  modal.classList.remove('flex');
}

// Optional: Close modal if user clicks outside the box
window.addEventListener('click', function (e) {
  const modal = document.getElementById('notificationsModal');
  if (!modal.classList.contains('hidden') && e.target === modal) {
    closeNotifications();
  }
});



</script>


</html>